## 📚 Table of Contents
- [Features](#features)
- [Implementation Details](#-implementation-details)
  - [🎮 전투씬 - 플레이어 인풋 시스템](#-전투씬---플레이어-인풋-시스템)
  - [🎨 전투씬 - UI](#-전투씬---ui)
  - [🎲 가챠 시스템 구조](#-가챠-시스템-구조)
  - [🛠 UI 및 연출](#-ui-및-연출)

---

## ✨ Features

- 상태머신 기반의 **턴제 입력 시스템** (유닛 → 스킬 → 타겟)
- 커맨드 패턴으로 **명령 저장 및 실행 로직**
- **역동적인 UI 애니메이션**과 몰입감 있는 전투 입장 연출
- 전략 패턴을 기반으로 한 **확장 가능한 가챠 시스템**
- 다양한 유닛의 전략 정보가 표시되는 **전투 씬 UI**와 **스킬 상세 팝업 UI**
- **오디오 설정 팝업 UI** (마스터, BGM, SFX 볼륨 조정)

---

## 🧠 Implementation Details

### 🎮 전투씬 - 플레이어 인풋 시스템
- **InputManager**
  - 전투 씬에서 플레이어 입력 흐름을 관리하는 컨트롤러

- **FSM** 입력 상태 정의
  - `InputDisabledState`: 입력이 비활성화된 상태 (ex: 전투 시작)
  - `SelectExecuterState`: 명령을 실행할 유닛 선택
  - `SelectSkillState`: 공격 또는 스킬 선택
  - `SelectTargetState`: 대상 유닛(타겟) 선택

- **Command 패턴 기반의 명령 저장**
  - `AttackCommand`, `SkillCommand` 등으로 구성된 명령 객체를 커맨드 큐에 저장
  - 커맨드는 나중에 유닛의 행동으로 실행됨

- **선택 유닛 시각화**
  - `Indicator`로 플레이어가 선택 가능한 유닛, 선택된 유닛을 시각적으로 하이라이트 
  - `UnitSelector`에서 상황에 따라 선택 가능한 유닛만 선택하도록 제어
  - `UnitSelector`에서 저장된 커맨드를 참조하여 이미 명령이 설정된 유닛의 선택지를 시각적으로 하이라이트

---

### 🎨 전투씬 - UI
- **유닛 스킬/타겟 정보 제공**
  - 플레이어가 전략적으로 판단할 수 있도록, 각 턴에 적 유닛이 사용할 **스킬** 및 스킬을 사용할 **타겟**을 UI 상에 표시
  - 스킬 정보는 스킬 버튼을 길게 눌렀을 때 팝업 형태로 표시

- **카메라 줌인 효과**
  - 전투 씬 입장 시, 카메라가 줌 인하여 전투에 몰입할 수 있는 연출 구현

- **스킬 정보 팝업**
  - 스킬 버튼을 **길게 누르는 동안만 팝업이 표시**
  - 버튼 홀딩이 끝나면 `Coroutine`을 통해 **짧은 딜레이 후 자동으로 사라지도록** 처리

---

### 🎲 가챠 시스템 구조

- **Strategy 패턴 기반 확장 구조**
  - `GachaManager<T>` : C# 제네릭 클래스, 캐릭터/장비/스킬 등 다양한 타입에 사용 가능
  - `IGachaStrategy<T>` : Strategy 패턴 인터페이스, 가챠 방식 변경 시 구현체만 교체하여 사용
  - `GachaManager<T>`는 `IGachaStrategy<T>`를 기반으로 동작
  - MonoBehaviour에 의존하지 않고 다양한 가챠 시스템에 재사용 가능
  - `IGachaHandler` : UI와 상호작용하는 공통 동작을 한 인터페이스로 규격화.
  - `GachaResult<T>` : 가챠 타입에 따라 중복에 따른 보상 규칙을 다르게 저장할 구조체

- **랜덤 티어 선택 알고리즘**
  1. 0~100 사이의 난수를 생성
  2. 티어별 확률을 기반으로 누적 확률 범위에 따라 티어 결정
  3. 해당 티어의 후보 리스트 중 하나를 무작위로 선택

- **중복 보상 처리**
  - 뽑은 결과가 이미 보유 중인 경우, `CompensationAmount` 값을 통해 보상을 별도로 제공

---

### 🛠 UI 및 연출
- **DOTween 기반 애니메이션 처리**
  - `DoFade`, `DOAnchorPos`, `DoScale` 등의 DOTween 기반 애니메이션으로 UI 등장
  - UI 등장 타이밍을 조율해 플레이어가 정보를 자연스럽게 받아들일 수 있도록 구성
 
- **SettingPopup.cs**
  - 오디오 볼륨 조절 슬라이더 포함
  - `AudioManager`와 연동하여 마스터, 배경음, 효과음 볼륨을 조절
